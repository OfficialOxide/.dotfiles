\usepackage[svgnames, dvipsnames]{xcolor}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{mathrsfs}
\usepackage[shortlabels]{enumitem}
\usepackage{mathtools}
\newcommand{\vocab}[1]{\textit{#1}}
\usepackage{fontspec}
\usepackage{microtype}

%%% Sections

\renewcommand*{\subsectionformat}%
  {\scshape\upshape\thesubsection\enskip}

%%% Title
\addtokomafont{subtitle}{\Large}
\setkomafont{title}{\large}
\setkomafont{author}{\large}
\setkomafont{date}{\normalsize}
\setkomafont{section}{\mdseries\scshape\Large\rmfamily}
\setkomafont{subsection}{\mdseries\itshape\large\rmfamily}
%%% Page setup
\usepackage[headsepline]{scrlayer-scrpage}
\renewcommand{\headfont}{}
\addtolength{\textheight}{3.14cm}
\setlength{\footskip}{0.5in}
\setlength{\headsep}{12pt}
\automark{section}
\ohead{\footnotesize\pagemark}
\chead{}
\ihead{\footnotesize\@title}
\cfoot{}

\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\mdfdefinestyle{mdbluebox}{%
	linewidth=1.5pt, skipabove=12pt, innerbottommargin=9pt,
	skipbelow=2pt,
	linecolor=DodgerBlue!70,
  rightline=false,topline=false,bottomline=false,
  leftline=true
	nobreak=true,
%	backgroundcolor=TealBlue!7,
}
\mdfdefinestyle{mdpurbox}{%
	linewidth=1.5pt,
	skipabove=12pt,
	innerbottommargin=9pt,
	skipbelow=2pt,
  rightline=false,topline=false,bottomline=false,
  leftline=true,
	linecolor=MidnightBlue!70,
	nobreak=true,
	%backgroundcolor=DarkOrchid!5,
}
\declaretheoremstyle[
  headfont=\bfseries\color{MidnightBlue},
  mdframed={style=mdpurbox},
  headpunct={\\[3pt]},
  postheadspace={0pt}
]{thmpurbox}
\declaretheoremstyle[
	headfont=\bfseries\color{DodgerBlue},
	mdframed={style=mdbluebox},
	headpunct={\\[3pt]},
	postheadspace={0pt}
]{thmbluebox}

\mdfdefinestyle{mdredbox}{%
	linewidth=1.5pt,
	skipabove=12pt,
	frametitleaboveskip=5pt,
	frametitlebelowskip=0pt,
  skipbelow=2pt,
	rightline=false, topline=false, bottomline=false,
  leftline=true,
  frametitlefont=\bfseries,
	innertopmargin=4pt,
	innerbottommargin=8pt,
	nobreak=true,
  %backgroundcolor=Salmon!10,
	linecolor=Salmon!70,
}
\declaretheoremstyle[
  headfont=\bfseries\color{Brown},
	mdframed={style=mdredbox},
	headpunct={\\[3pt]},
	postheadspace={0pt},
]{thmredbox}
\mdfdefinestyle{mdgreenbox}{%
	skipabove=8pt,
	linewidth=1.5pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=JungleGreen!95,
	%backgroundcolor=JungleGreen!5,
}
\declaretheoremstyle[
  headfont=\bfseries\color{Emerald}, %{ForestGreen!70!black},
	bodyfont=\normalfont,
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdgreenbox},
  headpunct={\\[3pt]},
]{thmgreenbox}
\mdfdefinestyle{mdblackbox}{%
	skipabove=8pt,
	linewidth=1.5pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=Black!90,
	%backgroundcolor=RedViolet!10!gray!10,
}
\mdfdefinestyle{proof}{%
	skipabove=8pt,
	linewidth=1.5pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=Black!60,
	%backgroundcolor=RedViolet!10!gray!10,
}
\surroundwithmdframed[style=proof]{proof}
\declaretheoremstyle[
	headfont=\bfseries,
	bodyfont=\normalfont\small,
	spaceabove=0pt,
	spacebelow=0pt,
	mdframed={style=mdblackbox}
]{thmblackbox}

% numbered environments
\declaretheorem[style=thmpurbox,name=Theorem,numberwithin=section]{theorem}
\declaretheorem[style=thmgreenbox,name=Definition,sibling=theorem]{definition}
\declaretheorem[style=thmpurbox,name=Lemma,sibling=theorem]{lemma}
\declaretheorem[style=thmpurbox,name=Proposition,sibling=theorem]{proposition}
\declaretheorem[style=thmbluebox,name=Corollary,sibling=theorem]{corollary}
\declaretheorem[style=thmgreenbox,name=Algorithm,sibling=theorem]{algorithm}
\declaretheorem[style=thmpurbox,name=Claim,sibling=theorem]{claim}
\declaretheorem[style=thmredbox,name=Example,sibling=theorem]{example}
\declaretheorem[style=thmblackbox,name=Remark,sibling=theorem]{remark}
\declaretheorem[style=thmblackbox,name=Exercise]{exercise}
\declaretheorem[style=thmgreenbox,name=Problem,sibling=exercise]{problem}
\declaretheorem[style=thmpurbox,name=Question,sibling=theorem]{ques}
% unnumbered envs
\declaretheorem[style=thmgreenbox,name=Definition,numbered=no]{definition*}
\declaretheorem[style=thmpurbox,name=Theorem,numbered=no]{theorem*}
\declaretheorem[style=thmpurbox,name=Lemma,numbered=no]{lemma*}
\declaretheorem[style=thmpurbox,name=Proposition,numbered=no]{proposition*}
\declaretheorem[style=thmbluebox,name=Corollary,numbered=no]{corollary*}
\declaretheorem[style=thmgreenbox,name=Algorithm,numbered=no]{algorithm*}
\declaretheorem[style=thmpurbox,name=Claim,numbered=no]{claim*}
\declaretheorem[style=thmredbox,name=Example,numbered=no]{example*}
\declaretheorem[style=thmblackbox,name=Remark,numbered=no]{remark*}
\declaretheorem[style=thmgreenbox,name=Exercise, numbered=no]{exercise*}
\declaretheorem[style=thmgreenbox,name=Problem,numbered=no]{problem*}

\theoremstyle{definition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{answer}[theorem]{Answer}
%\newtheorem{ques}[theorem]{Question}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem*{fact*}{Fact}
\newtheorem*{answer*}{Answer}
\newtheorem*{ques*}{Question}

