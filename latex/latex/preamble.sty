\usepackage[svgnames, dvipsnames]{xcolor}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{mathrsfs}
\usepackage[shortlabels]{enumitem}
\usepackage{mathtools}
\usepackage{microtype}
%%% Colored sections
\renewcommand*{\sectionformat}%
	{\color{purple}\S\thesection\enskip}
	\renewcommand*{\subsectionformat}%
	{\color{purple}\S\thesubsection\enskip}
	\renewcommand*{\subsubsectionformat}%
	{\color{purple}\S\thesubsubsection\enskip}
	\KOMAoptions{numbers=noenddot}

%%% Title
\addtokomafont{subtitle}{\Large}
\setkomafont{author}{\Large}
\setkomafont{date}{\Large\normalsize}

%%% Page setup
\usepackage[headsepline]{scrlayer-scrpage}
\renewcommand{\headfont}{}
\addtolength{\textheight}{3.14cm}
\setlength{\footskip}{0.5in}
\setlength{\headsep}{10pt}
\ihead{\footnotesize\textbf{\@author} (\@date)}
\automark{section}
\chead{}
\ohead{\footnotesize\textbf{\@title}}
\cfoot{\pagemark}

\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\mdfdefinestyle{mdbluebox}{%
	roundcorner = 0pt,
	linewidth=1pt, skipabove=12pt, innerbottommargin=9pt,
	skipbelow=2pt,
	linecolor=TealBlue!7,
	nobreak=true,
	backgroundcolor=TealBlue!7,
}
\mdfdefinestyle{mdpurbox}{%
	roundcorner = 0pt,
	linewidth=1pt,
	skipabove=12pt,
	innerbottommargin=9pt,
	skipbelow=2pt,
	linecolor=DarkOrchid!5,
	nobreak=true,
	backgroundcolor=DarkOrchid!5,
}
\declaretheoremstyle[
  headfont=\sffamily\bfseries\color{MidnightBlue},
  mdframed={style=mdpurbox},
  headpunct={\\[3pt]},
  postheadspace={0pt}
]{thmpurbox}
\declaretheoremstyle[
	headfont=\sffamily\bfseries\color{DodgerBlue},
	mdframed={style=mdbluebox},
	headpunct={\\[3pt]},
	postheadspace={0pt}
]{thmbluebox}

\mdfdefinestyle{mdredbox}{%
	linewidth=0.5pt,
	skipabove=12pt,
	frametitleaboveskip=5pt,
	frametitlebelowskip=0pt,
	skipbelow=2pt,
	frametitlefont=\bfseries,
	innertopmargin=4pt,
	innerbottommargin=8pt,
	nobreak=true,
  backgroundcolor=Salmon!10,
	linecolor=Salmon!10,
}
\declaretheoremstyle[
  headfont=\sffamily\bfseries\color{Brown},
	mdframed={style=mdredbox},
	headpunct={\\[3pt]},
	postheadspace={0pt},
]{thmredbox}
\mdfdefinestyle{mdgreenbox}{%
	skipabove=8pt,
	linewidth=2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=JungleGreen!5,
	backgroundcolor=JungleGreen!5,
}
\declaretheoremstyle[
headfont=\sffamily\bfseries\color{Emerald}, %{ForestGreen!70!black},
	bodyfont=\normalfont,
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdgreenbox},
  headpunct={\\[3pt]},
]{thmgreenbox}
\mdfdefinestyle{mdblackbox}{%
	skipabove=8pt,
	linewidth=3pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=RedViolet!10!gray!10,
	backgroundcolor=RedViolet!10!gray!10,
}
\mdfdefinestyle{proof}{%
	skipabove=8pt,
	linewidth=1pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=Black!60,
	backgroundcolor=RedViolet!10!gray!10,
}
\surroundwithmdframed[style=proof]{proof}
\declaretheoremstyle[
	headfont=\sffamily\bfseries,
	bodyfont=\normalfont\small,
	spaceabove=0pt,
	spacebelow=0pt,
	mdframed={style=mdblackbox}
]{thmblackbox}

% numbered environments
\declaretheorem[style=thmpurbox,name=Theorem,numberwithin=section]{theorem}
\declaretheorem[style=thmgreenbox,name=Definition,sibling=theorem]{definition}
\declaretheorem[style=thmpurbox,name=Lemma,sibling=theorem]{lemma}
\declaretheorem[style=thmpurbox,name=Proposition,sibling=theorem]{proposition}
\declaretheorem[style=thmbluebox,name=Corollary,sibling=theorem]{corollary}
\declaretheorem[style=thmgreenbox,name=Algorithm,sibling=theorem]{algorithm}
\declaretheorem[style=thmpurbox,name=Claim,sibling=theorem]{claim}
\declaretheorem[style=thmredbox,name=Example,sibling=theorem]{example}
\declaretheorem[style=thmblackbox,name=Remark,sibling=theorem]{remark}
\declaretheorem[style=thmgreenbox,name=Exercise]{exercise}
\declaretheorem[style=thmgreenbox,name=Problem,sibling=exercise]{problem}
% unnumbered envs
\declaretheorem[style=thmgreenbox,name=Definition,numbered=no]{definition*}
\declaretheorem[style=thmpurbox,name=Theorem,numbered=no]{theorem*}
\declaretheorem[style=thmpurbox,name=Lemma,numbered=no]{lemma*}
\declaretheorem[style=thmpurbox,name=Proposition,numbered=no]{proposition*}
\declaretheorem[style=thmbluebox,name=Corollary,numbered=no]{corollary*}
\declaretheorem[style=thmgreenbox,name=Algorithm,numbered=no]{algorithm*}
\declaretheorem[style=thmpurbox,name=Claim,numbered=no]{claim*}
\declaretheorem[style=thmredbox,name=Example,numbered=no]{example*}
\declaretheorem[style=thmblackbox,name=Remark,numbered=no]{remark*}
\declaretheorem[style=thmgreenbox,name=Exercise, numbered=no]{exercise*}
\declaretheorem[style=thmgreenbox,name=Problem,numbered=no]{problem*}

\theoremstyle{definition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{answer}[theorem]{Answer}
\newtheorem{ques}[theorem]{Question}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem*{fact*}{Fact}
\newtheorem*{answer*}{Answer}
\newtheorem*{ques*}{Question}

